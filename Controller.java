package application;
import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.ProtocolException;
import java.net.URL;
import java.time.LocalDate;
import java.util.ArrayList;
import java.util.EventListener;
import java.util.Scanner;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import javax.imageio.ImageIO;

import org.json.JSONArray;
import org.json.JSONObject;

import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Node;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.DatePicker;
import javafx.scene.control.Label;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.text.Text;
import javafx.stage.Stage;

public class Controller {

	@FXML
	private ImageView imageV;
	@FXML
	private DatePicker dateInput;
	@FXML
	private TextField imageInfo;
	
	ArrayList<Photo>photos = new ArrayList<Photo>();
	
	
	public void setImage() throws IOException{
		
	// Creation of the Date the User Inputs	
	LocalDate sDate = dateInput.getValue();
	
	System.out.println(sDate);
	
	// Formation of apiKey for the date entered
	String apiKey = "https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date="+sDate+"&api_key=Ri7l2K0C8IcYrKQRAtbYGekgYZekkJqS8G1ZMBkU";
	
	
	//URL Connection
	URL url = new URL(apiKey.toString());
	
	HttpURLConnection conn = (HttpURLConnection) url.openConnection();
	
	conn.setRequestMethod("GET");
	
	conn.connect();
	
	// Result returned from the API
	StringBuilder apiResult = new StringBuilder();
	
	Scanner scan = new Scanner(url.openStream());
	
	while (scan.hasNext()) {
		
		apiResult.append(scan.nextLine());
		
	}
	
	scan.close();
	
	System.out.println(apiKey);
	
	System.out.println(apiResult);
	
	JSONObject apiReturn = new JSONObject("{\"photos\":[{\"id\":942928,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230688EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942929,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230647EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942930,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230605EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942932,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230564EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942934,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230523EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942936,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230469EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942938,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230427EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942940,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230386EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942941,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230345EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942943,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699230117EDR_F0932458CCAM04398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942944,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699229886EDR_F0932458CCAM03398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942945,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699229114EDR_F0932458CCAM03398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942946,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699228997EDR_F0932458CCAM02398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942947,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ccam/CR0_699228310EDR_F0932458CCAM02398M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942948,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230688PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942949,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230647PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942950,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230647PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942951,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230605PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942952,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230564PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942953,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230564PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942954,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230523PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942955,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230469PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942956,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230469PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942957,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230427PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942958,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230427PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942959,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230386PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942960,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230386PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942961,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230345PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942962,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230345PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942963,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230117PRC_F0932458CCAM04398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942964,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699230117PRC_F0932458CCAM04398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942965,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699229886PRC_F0932458CCAM03398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942966,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699229886PRC_F0932458CCAM03398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942967,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699229114PRC_F0932458CCAM03398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942968,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699229114PRC_F0932458CCAM03398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942969,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699228997PRC_F0932458CCAM02398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942970,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699228997PRC_F0932458CCAM02398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942971,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699228310PRC_F0932458CCAM02398L2.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942972,\"sol\":3399,\"camera\":{\"id\":23,\"name\":\"CHEMCAM\",\"rover_id\":5,\"full_name\":\"Chemistry and Camera Complex\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/soas/rdr/ccam/CR0_699228310PRC_F0932458CCAM02398L1.PNG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942908,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201107S00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942909,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201106R00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942910,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201105S00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942911,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201104R00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942912,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201103S00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942913,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201102R00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942914,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201101S00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942915,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201100R00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942916,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201099S00_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942917,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201107U01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942918,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201106T01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942919,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201105U01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942920,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201104T01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942921,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201103U01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942922,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201102T01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942923,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201101U01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942924,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201100T01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942925,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201099U01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942926,\"sol\":3399,\"camera\":{\"id\":24,\"name\":\"MAHLI\",\"rover_id\":5,\"full_name\":\"Mars Hand Lens Imager\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/msss/03399/mhli/3399MH0002270001201098T01_DXXX.jpg\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}},{\"id\":942927,\"sol\":3399,\"camera\":{\"id\":26,\"name\":\"NAVCAM\",\"rover_id\":5,\"full_name\":\"Navigation Camera\"},\"img_src\":\"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/03399/opgs/edr/ncam/NRB_699232686EDR_M0932458NCAM00580M_.JPG\",\"earth_date\":\"2022-02-27\",\"rover\":{\"id\":5,\"name\":\"Curiosity\",\"landing_date\":\"2012-08-06\",\"launch_date\":\"2011-11-26\",\"status\":\"active\"}}]}");
	
	JSONArray apiPhotos = apiReturn.getJSONArray("photos");
	
	System.out.println(apiPhotos);
	
	for (int i = 0;i<apiPhotos.length();i++) {
		
		JSONObject apiPhoto = (JSONObject)apiPhotos.get(i);
		
		Photo rPhoto = new Photo();
		
		rPhoto.setId(Integer.toString(apiPhoto.getInt("id")));
		
		rPhoto.setSol(Integer.toString(apiPhoto.getInt("sol")));
		
		JSONObject camera  = (JSONObject) apiPhoto.get("camera");
		
		rPhoto.setCameraId(Integer.toString(camera.getInt("id")));
		
		rPhoto.setRoverId(Integer.toString(camera.getInt("rover_id")));
		
		rPhoto.setCameraName(camera.getString("full_name"));
		
		rPhoto.setImgSrc(apiPhoto.getString("img_src"));
		
		rPhoto.setDate(apiPhoto.getString("earth_date"));
		
		JSONObject rover = (JSONObject) apiPhoto.get("rover");
		
		rPhoto.setRoverName(rover.getString("name"));
		
		rPhoto.setRoverStatus("status");
		
		rPhoto.setLandD(rover.getString("landing_date"));
		
		rPhoto.setLaunchD(rover.getString("launch_date"));
		
		photos.add(rPhoto);		
	}
	
	for (int i = 0;i<apiPhotos.length();i++) {
		
		System.out.println(photos.get(i).getImgSrc());
		
	}
	
	// Update the Image
	Image image = new Image("https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FRB_486615455EDR_F0481570FHAZ00323M_.JPG");
	
	imageV.setImage(image);	
	
	
	
	}
}
